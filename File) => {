// /app/meme/page.tsx
import React, { useState } from 'react';
import { Button } from '@/components/ui/button';
import { FileUploader } from '@/components/file-uploader';
import { MemeEditor } from '@/components/meme-editor';
import { MemePreview } from '@/components/meme-preview';

export default function MemePage() {
  const [image, setImage] = useState<File | null>(null);
  const [topText, setTopText] = useState('');
  const [bottomText, setBottomText] = useState('');

  const handleImageUpload = (file: File) => {
    setImage(file);
  };

  const handleTopTextChange = (text: string) => {
    setTopText(text);
  };

  const handleBottomTextChange = (text: string) => {
    setBottomText(text);
  };

  return (
    <div className="flex flex-col items-center">
      <h1 className="text-3xl font-bold mb-4">Meme Creator</h1>
      <FileUploader onUpload={handleImageUpload} />
      {image && (
        <div className="flex flex-col items-center mt-4">
          <MemeEditor
            image={image}
            topText={topText}
            bottomText={bottomText}
            onTopTextChange={handleTopTextChange}
            onBottomTextChange={handleBottomTextChange}
          />
          <MemePreview
            image={image}
            topText={topText}
            bottomText={bottomText}
          />
          <Button className="mt-4">Download Meme</Button>
        </div>
      )}
    </div>
  );
}